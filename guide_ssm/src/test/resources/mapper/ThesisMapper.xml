<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="guide.dao.ThesisMapper">
  <resultMap id="BaseResultMap" type="guide.bean.Thesis">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    <id column="tes_id" jdbcType="VARCHAR" property="tesId" />
    <result column="stu_id" jdbcType="VARCHAR" property="stuId" />
    <result column="tes_title" jdbcType="VARCHAR" property="tesTitle" />
    <result column="tes_path" jdbcType="VARCHAR" property="tesPath" />
    <result column="tes_date" jdbcType="DATE" property="tesDate" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    tes_id, stu_id, tes_title, tes_path, tes_date
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from thesis
    where tes_id = #{tesId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    delete from thesis
    where tes_id = #{tesId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="guide.bean.Thesis">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    insert into thesis (tes_id, stu_id, tes_title, 
      tes_path, tes_date)
    values (#{tesId,jdbcType=VARCHAR}, #{stuId,jdbcType=VARCHAR}, #{tesTitle,jdbcType=VARCHAR}, 
      #{tesPath,jdbcType=VARCHAR}, #{tesDate,jdbcType=DATE})
  </insert>
  <insert id="insertSelective" parameterType="guide.bean.Thesis">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    insert into thesis
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="tesId != null">
        tes_id,
      </if>
      <if test="stuId != null">
        stu_id,
      </if>
      <if test="tesTitle != null">
        tes_title,
      </if>
      <if test="tesPath != null">
        tes_path,
      </if>
      <if test="tesDate != null">
        tes_date,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="tesId != null">
        #{tesId,jdbcType=VARCHAR},
      </if>
      <if test="stuId != null">
        #{stuId,jdbcType=VARCHAR},
      </if>
      <if test="tesTitle != null">
        #{tesTitle,jdbcType=VARCHAR},
      </if>
      <if test="tesPath != null">
        #{tesPath,jdbcType=VARCHAR},
      </if>
      <if test="tesDate != null">
        #{tesDate,jdbcType=DATE},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="guide.bean.Thesis">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    update thesis
    <set>
      <if test="stuId != null">
        stu_id = #{stuId,jdbcType=VARCHAR},
      </if>
      <if test="tesTitle != null">
        tes_title = #{tesTitle,jdbcType=VARCHAR},
      </if>
      <if test="tesPath != null">
        tes_path = #{tesPath,jdbcType=VARCHAR},
      </if>
      <if test="tesDate != null">
        tes_date = #{tesDate,jdbcType=DATE},
      </if>
    </set>
    where tes_id = #{tesId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="guide.bean.Thesis">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 16 21:37:24 CST 2018.
    -->
    update thesis
    set stu_id = #{stuId,jdbcType=VARCHAR},
      tes_title = #{tesTitle,jdbcType=VARCHAR},
      tes_path = #{tesPath,jdbcType=VARCHAR},
      tes_date = #{tesDate,jdbcType=DATE}
    where tes_id = #{tesId,jdbcType=VARCHAR}
  </update>
  
  <select  id="getThesis" resultType="guide.bean.Thesis">
  	SELECT `thesis`.`tes_id` as tesId,
    `thesis`.`stu_id` as stuId,
    `thesis`.`tes_title` as tesTitle,
    `thesis`.`tes_path` as tesPath,
    `thesis`.`tes_date` as tesDate
	FROM `guide`.`thesis`
	left join student
	on student.stu_id=thesis.stu_id
	where student.teac_id=#{teac_id}
  </select>
</mapper>